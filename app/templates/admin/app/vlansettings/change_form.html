{% extends "admin/change_form.html" %}
{% load i18n admin_urls static admin_modify %}

{% block content_title %}{{ title }}{% endblock %}

{% block submit_buttons_bottom %}
<div class="submit-row">
    <div class="form-group">
        <input type="submit" value="Save and apply" class="btn btn-success form-control" name="_save">
    </div>
</div>
{% endblock %}

{% block extrahead %}
    {{ block.super }}
    <style>
        /* Hide unnecessary elements */
        .deletelink, .historylink, .addlink {
            display: none !important;
        }
        
        /* Make the submit row match Jazzmin styling */
        .submit-row {
            padding: 1rem;
            background: transparent;
            border: none;
        }
    </style>
{% endblock %}

{% block admin_change_form_document_ready %}
    {{ block.super }}
    <script>
    (function($) {
        // Hide other save buttons if they exist
        $('input[name="_addanother"]').hide();
        $('input[name="_continue"]').hide();
        
        // Add confirmation for save action
        $('form').on('submit', function(e) {
            if (!confirm('Apply VLAN network configuration? This may temporarily disrupt network connectivity.')) {
                e.preventDefault();
                return false;
            }
        });
    })(django.jQuery);
    </script>
{% endblock %}